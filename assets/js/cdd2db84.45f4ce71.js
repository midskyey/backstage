/*! For license information please see cdd2db84.45f4ce71.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[462850],{574903:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>g,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var i=t(474848),s=t(28453);const a={id:"index",title:"Getting Started",description:"How to get started with the notifications and signals"},o=void 0,c={id:"notifications/index",title:"Getting Started",description:"How to get started with the notifications and signals",source:"@site/versioned_docs/version-stable/notifications/index.md",sourceDirName:"notifications",slug:"/notifications/",permalink:"/docs/notifications/",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/notifications/index.md",tags:[],version:"stable",frontMatter:{id:"index",title:"Getting Started",description:"How to get started with the notifications and signals"},sidebar:"docs",previous:{title:"Proxy",permalink:"/docs/features/kubernetes/proxy"},next:{title:"Processors",permalink:"/docs/notifications/processors"}},r={},l=[{value:"Upgrade to the latest version of Backstage",id:"upgrade-to-the-latest-version-of-backstage",level:3},{value:"About notifications",id:"about-notifications",level:2},{value:"Installation in Older Environments",id:"installation-in-older-environments",level:2},{value:"Add Notifications Backend",id:"add-notifications-backend",level:3},{value:"Add Notifications Frontend",id:"add-notifications-frontend",level:3},{value:"Optional: Add Signals Backend",id:"optional-add-signals-backend",level:3},{value:"Optional: Signals Frontend",id:"optional-signals-frontend",level:3},{value:"User-specific notification settings",id:"user-specific-notification-settings",level:3},{value:"Additional info",id:"additional-info",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:'The Backstage Notifications System provides a way for plugins and external services to send notifications to Backstage users.\nThese notifications are displayed in the dedicated page of the Backstage frontend UI or by frontend plugins per specific scenarios.\nAdditionally, notifications can be sent to external channels (like email) via "processors" implemented within plugins.'}),"\n",(0,i.jsx)(n.p,{children:"Notifications can be optionally integrated with the signals (a push mechanism) to ensure users receive them immediately."}),"\n",(0,i.jsx)(n.h3,{id:"upgrade-to-the-latest-version-of-backstage",children:"Upgrade to the latest version of Backstage"}),"\n",(0,i.jsxs)(n.p,{children:["To ensure your version of Backstage has all the latest notifications and signals related functionality, it\u2019s important to upgrade to the latest version. The ",(0,i.jsx)(n.a,{href:"https://backstage.github.io/upgrade-helper/",children:"Backstage upgrade helper"})," is a great tool to help ensure that you\u2019ve made all the necessary changes during the upgrade!"]}),"\n",(0,i.jsx)(n.h2,{id:"about-notifications",children:"About notifications"}),"\n",(0,i.jsx)(n.p,{children:"Notifications are messages sent to either individual users or groups.\nThey are not intended for inter-process communication of any kind."}),"\n",(0,i.jsx)(n.p,{children:"There are two basic types of notifications:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Broadcast"}),": Messages sent to all users of Backstage."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Entity"}),": Messages delivered to specific listed entities, such as Users or Groups."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example of use-cases:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"System-wide announcements or alerts"}),"\n",(0,i.jsx)(n.li,{children:"Notifications for component owners: e.g., build failures, successful deployments, new vulnerabilities"}),"\n",(0,i.jsx)(n.li,{children:"Notifications for individuals: e.g., updates you have subscribed to, new required training courses"}),"\n",(0,i.jsx)(n.li,{children:"Notifications pertaining to a particular entity in the catalog: A notification might apply to an entity and the owning team."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation-in-older-environments",children:"Installation in Older Environments"}),"\n",(0,i.jsx)(n.p,{children:"Newer versions of instances created by the create-app have both the notifications and signals plugins included by default; this section can be skipped right to the Configuration."}),"\n",(0,i.jsx)(n.p,{children:"Following installation instructions are valid for enabling the plugins in older environments."}),"\n",(0,i.jsx)(n.h3,{id:"add-notifications-backend",children:"Add Notifications Backend"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yarn workspace backend add @backstage/plugin-notifications-backend\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Add the notifications to your ",(0,i.jsx)(n.code,{children:"backend/src/index.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const backend = createBackend();\n// ...\nbackend.add(import('@backstage/plugin-notifications-backend'));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"add-notifications-frontend",children:"Add Notifications Frontend"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yarn workspace app add @backstage/plugin-notifications\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To add the notifications main menu, add following to your ",(0,i.jsx)(n.code,{children:"packages/app/src/components/Root/Root.tsx"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { NotificationsSidebarItem } from '@backstage/plugin-notifications';\n\n<SidebarPage>\n  <Sidebar>\n    <SidebarGroup>\n      // ...\n      <NotificationsSidebarItem />\n    </SidebarGroup>\n  </Sidebar>\n</SidebarPage>;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Also add the route to notifications to ",(0,i.jsx)(n.code,{children:"packages/app/src/App.tsx"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { NotificationsPage } from '@backstage/plugin-notifications';\n\n<FlatRoutes>\n  // ...\n  <Route path=\"/notifications\" element={<NotificationsPage />} />\n</FlatRoutes>;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"optional-add-signals-backend",children:"Optional: Add Signals Backend"}),"\n",(0,i.jsx)(n.p,{children:"Optionally add Signals to your backend by"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yarn workspace backend add @backstage/plugin-signals-backend\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Add the signals to your ",(0,i.jsx)(n.code,{children:"backend/src/index.ts"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const backend = createBackend();\n// ...\nbackend.add(import('@backstage/plugin-signals-backend'));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"optional-signals-frontend",children:"Optional: Signals Frontend"}),"\n",(0,i.jsx)(n.p,{children:"The use of signals is optional but improves user experience."}),"\n",(0,i.jsx)(n.p,{children:"Start with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yarn workspace app add @backstage/plugin-signals\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To install the plugin, add the ",(0,i.jsx)(n.code,{children:"SignalsDisplay"})," to your app root in ",(0,i.jsx)(n.code,{children:"packages/app/src/App.tsx"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { SignalsDisplay } from '@backstage/plugin-signals';\n\nexport default app.createRoot(\n  <>\n    <AlertDisplay transientTimeoutMs={2500} />\n    <OAuthRequestDialog />\n    {/* highlight-add-next-line */}\n    <SignalsDisplay />\n    <AppRouter>\n      <VisitListener />\n      <Root>{routes}</Root>\n    </AppRouter>\n  </>,\n);\n"})}),"\n",(0,i.jsx)(n.p,{children:"If the signals plugin is properly configured, it will be automatically discovered by the notifications plugin and used."}),"\n",(0,i.jsx)(n.h3,{id:"user-specific-notification-settings",children:"User-specific notification settings"}),"\n",(0,i.jsxs)(n.p,{children:["The notifications plugin provides a way for users to manage their notification settings. To enable this, you must\nadd the ",(0,i.jsx)(n.code,{children:"UserNotificationSettingsCard"})," to your frontend."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'// App.tsx example\n<Route path="/settings" element={<UserSettingsPage />}>\n  <SettingsLayout.Route path="/advanced" title="Advanced">\n    <AdvancedSettings />\n  </SettingsLayout.Route>\n  <SettingsLayout.Route path="/notifications" title="Notifications">\n    <UserNotificationSettingsCard\n      originNames={{ \'plugin:scaffolder\': \'Scaffolder\' }}\n    />\n  </SettingsLayout.Route>\n</Route>\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Notification Settings",src:t(108894).A+"",width:"1445",height:"501"})}),"\n",(0,i.jsx)(n.p,{children:"You can customize the origin names shown in the UI by passing an object where the keys are the origins and the values are the names you want to show in the UI."}),"\n",(0,i.jsx)(n.p,{children:"Each notification processor will receive its own column in the settings page, where the user can enable or disable notifications from that processor."}),"\n",(0,i.jsx)(n.h2,{id:"additional-info",children:"Additional info"}),"\n",(0,i.jsxs)(n.p,{children:["An example of a backend plugin sending notifications can be found in ",(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/scaffolder-backend-module-notifications",children:"https://github.com/backstage/backstage/tree/master/plugins/scaffolder-backend-module-notifications"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Sources of the notifications and signal plugins:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/notifications",children:"https://github.com/backstage/backstage/blob/master/plugins/notifications"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/notifications-backend",children:"https://github.com/backstage/backstage/blob/master/plugins/notifications-backend"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/notifications-common",children:"https://github.com/backstage/backstage/blob/master/plugins/notifications-common"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/notifications-node",children:"https://github.com/backstage/backstage/blob/master/plugins/notifications-node"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/signals-backend",children:"https://github.com/backstage/backstage/blob/master/plugins/signals-backend"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/signals",children:"https://github.com/backstage/backstage/blob/master/plugins/signals"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/signals-node",children:"https://github.com/backstage/backstage/blob/master/plugins/signals-node"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/signals-react",children:"https://github.com/backstage/backstage/blob/master/plugins/signals-react"})}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},221020:(e,n,t)=>{var i=t(296540),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(e,n,t){var i,a={},l=null,d=null;for(i in void 0!==t&&(l=""+t),void 0!==n.key&&(l=""+n.key),void 0!==n.ref&&(d=n.ref),n)o.call(n,i)&&!r.hasOwnProperty(i)&&(a[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps)void 0===a[i]&&(a[i]=n[i]);return{$$typeof:s,type:e,key:l,ref:d,props:a,_owner:c.current}}n.Fragment=a,n.jsx=l,n.jsxs=l},474848:(e,n,t)=>{e.exports=t(221020)},108894:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/notificationSettings-8b9d95ba0ca98cb6e8e72460ac0486a3.png"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var i=t(296540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);