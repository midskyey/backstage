import{r as _,R as r}from"./index-CTjT7uj6.js";import{u as q,s as v,W as P}from"./WebStorage-D9doizkM.js";import{c}from"./index-Cqve-NHl.js";import{d as A}from"./Close-RiToWAim.js";import{m as D}from"./makeStyles-CRB_T0k9.js";import{S as I,a as N}from"./Snackbar-BwqFNsMw.js";import{I as W}from"./IconButton-BnieOWIS.js";import{u as C}from"./ApiRef-DUoQ5WvO.js";import{T as L}from"./Typography-D5Gm01bp.js";import{L as R}from"./Link-Ca5dFKMX.js";import{T}from"./TestApiProvider-CmAAIwv0.js";import"./index-CFaqwFgm.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-C7DOmWEG.js";import"./capitalize-BWjKmKKm.js";import"./defaultTheme-DquFOgf8.js";import"./withStyles-DWaS6n8x.js";import"./hoist-non-react-statics.cjs-DzIEFHQI.js";import"./createChainedFunction-Da-WpsAN.js";import"./createSvgIcon-CL6P1I3F.js";import"./debounce-DtXjJkxj.js";import"./isMuiElement-B_4ddUuK.js";import"./ownerWindow-C3iVrxHF.js";import"./useIsFocusVisible-BQk2_Vhe.js";import"./index-DwHHXP4W.js";import"./useControlled-B47E2WMp.js";import"./unstable_useId-B3Hiq1YI.js";import"./Paper-2nKWzoda.js";import"./Grow-CD9ZmTub.js";import"./useTheme-0ztDbzjM.js";import"./utils-C5QDFBiQ.js";import"./TransitionGroupContext-BtzQ-Cv7.js";import"./ButtonBase-CaWqRTTn.js";import"./lodash-CoGan1YB.js";import"./index-CNMBxS8v.js";import"./useAnalytics-Dmj0Ntiu.js";import"./ConfigApi-BZwRYjFH.js";import"./ApiProvider-D8NVuZ3M.js";import"./index-BRV0Se7Z.js";const z=D(e=>({root:{padding:e.spacing(0),marginBottom:e.spacing(0),marginTop:e.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:e.spacing(6),marginTop:-e.spacing(3),zIndex:"unset"},icon:{fontSize:e.typography.h6.fontSize},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap",color:e.palette.banner.text},message:{display:"flex",alignItems:"center","& a":{color:e.palette.banner.link}},button:{color:e.palette.banner.closeButtonColor??"inherit"},info:{backgroundColor:e.palette.banner.info},error:{backgroundColor:e.palette.banner.error},warning:{backgroundColor:e.palette.banner.warning??e.palette.banner.error}}),{name:"BackstageDismissableBanner"}),s=e=>{const{variant:h,message:B,id:m,fixed:p=!1}=e,i=z(),n=C(v).forBucket("notifications"),o=q(n.observe$("dismissedBanners"),n.snapshot("dismissedBanners")),l=_.useMemo(()=>new Set(o.value??[]),[o.value]),S=o.presence==="unknown",E=()=>{n.set("dismissedBanners",[...l,m])};return r.createElement(I,{anchorOrigin:p?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!S&&!l.has(m),classes:{root:c(i.root,!p&&i.topPosition)}},r.createElement(N,{classes:{root:c(i.content,i[h]),message:i.message},message:B,action:[r.createElement(W,{key:"dismiss",title:"Permanently dismiss this message",className:i.button,onClick:E},r.createElement(A,{className:i.icon}))]}))};s.__docgenInfo={description:"@public",methods:[],displayName:"DismissableBanner",props:{variant:{required:!0,tsType:{name:"union",raw:"'info' | 'error' | 'warning'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"}]},description:""},message:{required:!0,tsType:{name:"ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""},fixed:{required:!1,tsType:{name:"boolean"},description:""}}};const _e={title:"Feedback/DismissableBanner",component:s,argTypes:{variant:{options:["info","error","warning"],control:{type:"select"}}}};let O;const k={width:"70%"},F=()=>P.create({errorApi:O}),w=[[v,F()]],x={message:"This is a dismissable banner",variant:"info",fixed:!1},t=e=>r.createElement("div",{style:k},r.createElement(T,{apis:w},r.createElement(s,{...e,id:"default_dismissable"})));t.args=x;const a=e=>r.createElement("div",{style:k},r.createElement(T,{apis:w},r.createElement(s,{...e,message:r.createElement(L,null,"This is a dismissable banner with a link:"," ",r.createElement(R,{to:"http://example.com",color:"textPrimary"},"example.com")),id:"linked_dismissable"})));a.args=x;t.__docgenInfo={description:"",methods:[],displayName:"Default",props:{variant:{required:!0,tsType:{name:"union",raw:"'info' | 'error' | 'warning'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"}]},description:""},message:{required:!0,tsType:{name:"ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""},fixed:{required:!1,tsType:{name:"boolean"},description:""}}};a.__docgenInfo={description:"",methods:[],displayName:"WithLink",props:{variant:{required:!0,tsType:{name:"union",raw:"'info' | 'error' | 'warning'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"}]},description:""},message:{required:!0,tsType:{name:"ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""},fixed:{required:!1,tsType:{name:"boolean"},description:""}}};var d,u,g;t.parameters={...t.parameters,docs:{...(d=t.parameters)==null?void 0:d.docs,source:{originalSource:`(args: Props) => <div style={containerStyle}>
    <TestApiProvider apis={apis}>
      <DismissableBanner {...args} id="default_dismissable" />
    </TestApiProvider>
  </div>`,...(g=(u=t.parameters)==null?void 0:u.docs)==null?void 0:g.source}}};var f,b,y;a.parameters={...a.parameters,docs:{...(f=a.parameters)==null?void 0:f.docs,source:{originalSource:`(args: Props) => <div style={containerStyle}>
    <TestApiProvider apis={apis}>
      <DismissableBanner {...args} message={<Typography>
            This is a dismissable banner with a link:{' '}
            <Link to="http://example.com" color="textPrimary">
              example.com
            </Link>
          </Typography>} id="linked_dismissable" />
    </TestApiProvider>
  </div>`,...(y=(b=a.parameters)==null?void 0:b.docs)==null?void 0:y.source}}};const qe=["Default","WithLink"];export{t as Default,a as WithLink,qe as __namedExportsOrder,_e as default};
