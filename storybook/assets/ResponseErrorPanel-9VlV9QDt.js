import{j as e}from"./jsx-runtime-CvpxdxdE.js";import{m as h}from"./makeStyles-yUUo8jj4.js";import{E as d}from"./ErrorPanel-CvrCXDiN.js";import{L as l}from"./ListItem-BKUB4Epy.js";import{L as g}from"./ListItemText-Bhrk3tXi.js";import{C as E}from"./CopyTextButton-vG1YiQVf.js";import{D as S}from"./Divider-CQVpOw77.js";import{C as R}from"./CodeSnippet-ChKFiwb4.js";const v=h(s=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:s.spacing(2)},divider:{margin:s.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function q(s){var c;const{title:i,error:r,defaultExpanded:m}=s,o=v();if(r.name!=="ResponseError")return e.jsx(d,{title:i??r.message,defaultExpanded:m,error:r});const{body:p,cause:n}=r,{request:t,response:f}=p,u=`${f.statusCode}: ${n.name}`,a=t&&`${t.method} ${t.url}`,x=n.message.replace(/\\n/g,`
`),y=(c=n.stack)==null?void 0:c.replace(/\\n/g,`
`),j=JSON.stringify(p,void 0,2);return e.jsxs(d,{title:i??r.message,defaultExpanded:m,error:{name:u,message:x,stack:y},children:[a&&e.jsxs(l,{alignItems:"flex-start",children:[e.jsx(g,{classes:{secondary:o.text},primary:"Request",secondary:t?`${a}`:void 0}),e.jsx(E,{text:a})]}),e.jsxs(e.Fragment,{children:[e.jsx(S,{component:"li",className:o.divider}),e.jsx(l,{alignItems:"flex-start",children:e.jsx(g,{classes:{secondary:o.text},primary:"Full Error as JSON"})}),e.jsx(R,{language:"json",text:j,showCopyCodeButton:!0})]})]})}q.__docgenInfo={description:`Renders a warning panel as the effect of a failed server request.

@remarks
Has special treatment for ResponseError errors, to display rich
server-provided information about what happened.`,methods:[],displayName:"ResponseErrorPanel",props:{error:{required:!0,tsType:{name:"Error"},description:""},defaultExpanded:{required:!1,tsType:{name:"boolean"},description:""},titleFormat:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""}}};export{q as R};
