const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DHZqdb9-.js","./index-CTjT7uj6.js","./index-BkN7i-fW.js","./ApiRef-BSBwTmJJ.js","./ref-8pKZtiZi.js","./CustomHomepageGrid-DlPOxMBM.js","./index-BRV0Se7Z.js","./index-QA7F3UF1.js","./lodash-CoGan1YB.js","./WebStorage-D5Fgivzj.js","./index-CFaqwFgm.js","./interopRequireDefault-Y9pwbXtE.js","./createSvgIcon-D7HBgcTi.js","./capitalize-BWjKmKKm.js","./defaultTheme-DquFOgf8.js","./withStyles-DWaS6n8x.js","./hoist-non-react-statics.cjs-DzIEFHQI.js","./useControlled-Hu_S6sGp.js","./createSvgIcon-CL6P1I3F.js","./debounce-BO-l2B6S.js","./isMuiElement-B_4ddUuK.js","./useIsFocusVisible-Cc1qTAFu.js","./unstable_useId-B3Hiq1YI.js","./jsx-runtime-Cw0GR0a5.js","./isSymbol-C_KZXW2d.js","./appWrappers-S8EknMj5.js","./MockTranslationApi-WG1gjFYw.js","./classCallCheck-BNzALLS0.js","./inherits-BBh9Yz5k.js","./toArray-n7tUSQe9.js","./TranslationApi-eOxINumg.js","./ConfigApi-DBUUc3nU.js","./useAnalytics-DTrkS1Gy.js","./useAsync-CXA3qup_.js","./useMountedState-DkESzBh4.js","./componentData-CM4hSmEF.js","./isObject-DlTwUI3n.js","./toString-B79bsZRM.js","./ApiProvider-CuNQiN7Z.js","./CssBaseline-0XN_ELQr.js","./ThemeProvider-iV7LyTO2.js","./palettes-B20oCNII.js","./_baseSlice-z0Zd1-Ev.js","./_arrayReduce-B24CUDp3.js","./toNumber-BXqIqfWn.js","./Add-C9G2iwsV.js","./IconButton-N_BMqCoX.js","./ButtonBase-C5vBVldS.js","./TransitionGroupContext-BtzQ-Cv7.js","./Grid-CFE-uVXf.js","./Box-DU2WS7ls.js","./typography-1q_m8518.js","./Paper-2nKWzoda.js","./TextField-DBCKvSCb.js","./FormLabel-D6jOsxCS.js","./formControlState-ByiNFc8I.js","./useFormControl-F4cJWIkJ.js","./InputLabel-Rh6717bL.js","./Select-B4WgmRYM.js","./react-is.production.min-D0tnNtx9.js","./useTheme-0ztDbzjM.js","./Popover-DWMLgb4I.js","./Modal-DRukd71L.js","./Portal-C-K0NGyB.js","./Grow-IFUUo7Bg.js","./utils-C77xYEoA.js","./List-B21WyO9K.js","./ListContext-DydK1sOh.js","./Typography-D5Gm01bp.js","./ListItem-BqNetBt0.js","./ListItemIcon-CM5i1NWL.js","./ListItemText-BQG6-PBZ.js","./Remove-DZ1XDBkU.js","./useCopyToClipboard-D4ko06Zm.js","./Button-DIqXZjyu.js","./Divider-fLtrH1nN.js","./FormControlLabel-Ch8JrZNB.js","./Checkbox-OAjcdbEP.js","./SwitchBase-BMZCOwiB.js","./RadioGroup-CIeqiCS-.js","./MenuItem-DolGKc_Q.js","./makeStyles-CRB_T0k9.js","./createStyles-Bp4GwXob.js","./createStyles-yD3y8ldD.js","./DialogTitle-xUhfSKiE.js","./Backdrop-vZxCLklR.js","./Tooltip-CEAy7RgQ.js","./Popper-OF5Y-VYl.js","./ListItemAvatar-DwtPk2Za.js","./Edit-_psHkU9G.js","./ContentHeader-J1bogk7s.js","./Helmet-DPVyO7__.js","./ErrorBoundary-BsSXPttW.js","./translation-67MxozS3.js","./ErrorPanel-UvfJQPAf.js","./WarningPanel-B1C6KwEL.js","./ExpandMore-BFxc8y0x.js","./AccordionDetails-CbECkQ3e.js","./Collapse-r4tqKWw-.js","./MarkdownContent-DkU0SWqb.js","./CodeSnippet-DtINxwOn.js","./iframe-BobtraFD.js","./extends-CUPdUbmP.js","./toConsumableArray-BEwiObev.js","./CopyTextButton-DYapF7Y1.js","./LinkButton--_bXbXhy.js","./Link-w7sdsOKM.js","./index-Cqve-NHl.js","./useElementFilter-BhNjqvfn.js","./CustomHomepageGrid-B9caxcv4.css","./Plugin-CuVBUtJY.js","./useRouteRef-ahYS9ypG.js","./InfoCard-wTFI2DwH.js","./CardActions-COEhqCRe.js","./CardContent-OuGBBiNv.js","./CardHeader-CsO1doVL.js","./BottomLink-CE-BH3Aq.js","./ArrowForward-BXpTofhf.js","./index-kJvI8fhs.js","./ComponentAccordion-NHb6aP5t.js","./Tabs-CXrhTBQw.js","./KeyboardArrowRight-B3QN00AX.js","./index-t1pbALRK.js","./index-DZfplgxz.js","./index-RYQa1W5g.js","./upperFirst-DLTVdCCL.js","./index-BAJma173.js","./index-B5rK149l.js","./routes-eQ9PgaL4.js","./EntityDisplayName-BqnDwvbU.js","./FavoriteToggle-Dn2ZLiDz.js","./icons-6YYB8yzZ.js","./api-D73ioj2B.js","./StarredEntitiesApi-n7ClACGI.js","./Progress-B9NvVbef.js","./LinearProgress-mbGV-ZMg.js","./ResponseErrorPanel-Dl7ItxII.js","./index-BZpcf3s3.js","./HeaderLabel-CaDNXLNU.js","./TopVisited-BW2ox-Ek.js","./Content-uWoQ4YbU.js","./Chip-C79mC9Xh.js","./clsx.m-CH7BE6MN.js","./RecentlyVisited-Bkoz9wv8.js","./index-CH5CIjwO.js","./EmptyState-BboKgqaL.js","./index-D9OGQkhX.js"])))=>i.map(i=>d[i]);
var D=Object.defineProperty;var S=(i,e,o)=>e in i?D(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var _=(i,e,o)=>S(i,typeof e!="symbol"?e+"":e,o);import{_ as c}from"./iframe-BobtraFD.js";import{a as L,b as P}from"./appWrappers-S8EknMj5.js";import{a as k,c as O,b as V,d}from"./Plugin-CuVBUtJY.js";import{c as w}from"./ApiRef-BSBwTmJJ.js";import{R as a,r as v}from"./index-CTjT7uj6.js";import{i as x}from"./interopRequireDefault-Y9pwbXtE.js";import{r as H,i as z}from"./createSvgIcon-D7HBgcTi.js";import{I as K}from"./IconButton-N_BMqCoX.js";import{I as $}from"./InfoCard-wTFI2DwH.js";import{D as F,a as M,b as B,c as N}from"./DialogTitle-xUhfSKiE.js";import{B as W}from"./Button-DIqXZjyu.js";import{b as J}from"./index-BkN7i-fW.js";import{s as Q}from"./WebStorage-D5Fgivzj.js";import{i as j}from"./MockTranslationApi-WG1gjFYw.js";const R=i=>{const{open:e,close:o,componentName:t,children:r}=i;return a.createElement(F,{open:e,onClose:()=>o()},a.createElement(M,null,t?`Settings - ${t}`:"Settings"),a.createElement(B,null,r),a.createElement(N,null,a.createElement(W,{onClick:()=>o(),color:"primary",variant:"contained"},"Close")))};R.__docgenInfo={description:"@public",methods:[],displayName:"SettingsModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},close:{required:!0,tsType:{name:"Function"},description:""},componentName:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};var E={},U=x,X=z;Object.defineProperty(E,"__esModule",{value:!0});var C=E.default=void 0,Y=X(v),G=U(H()),Z=(0,G.default)(Y.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");C=E.default=Z;function p(i){const{title:e,components:o,name:t,description:r,layout:n,settings:s}=i,l=(s==null?void 0:s.schema)!==void 0;return k({name:t,data:{title:e,description:r,"home.widget.config":{layout:n,settings:s}},component:{lazy:()=>o().then(u=>g=>a.createElement(q,{...g,...u,title:g.title||e,isCustomizable:l}))}})}function q(i){const{Renderer:e,Content:o,Settings:t,Actions:r,ContextProvider:n,isCustomizable:s,title:l,...u}=i,g=J(),{Progress:h}=g.getComponents(),[b,y]=a.useState(!1);if(e)return a.createElement(v.Suspense,{fallback:a.createElement(h,null)},a.createElement(e,{...l&&{title:l},Content:o,...r?{Actions:r}:{},...t&&!s?{Settings:t}:{},...n?{ContextProvider:n}:{},...u}));const I={...l&&{title:l,divider:!!l},...t&&!s?{action:a.createElement(K,{onClick:()=>y(!0)},a.createElement(C,null,"Settings"))}:{},...r?{actions:a.createElement(r,null)}:{}},A=a.createElement($,{...I},t&&!s&&a.createElement(R,{open:b,componentName:l,close:()=>y(!1)},a.createElement(t,null)),a.createElement(o,{...u}));return a.createElement(v.Suspense,{fallback:a.createElement(h,null)},n?a.createElement(n,{...u},A):A)}const T=L({id:"home"}),ee=8;class f{constructor(e){_(this,"limit");_(this,"storageApi");_(this,"storageKeyPrefix","@backstage/plugin-home:visits");_(this,"identityApi");this.limit=Math.abs(e.limit??100),this.storageApi=e.storageApi,this.identityApi=e.identityApi}static create(e){return new f(e)}async list(e){let o=[...await this.retrieveAll()];return((e==null?void 0:e.orderBy)??[]).reverse().forEach(t=>{t.direction==="asc"?o.sort((r,n)=>this.compare(t,r,n)):o.sort((r,n)=>this.compare(t,n,r))}),((e==null?void 0:e.filterBy)??[]).reverse().forEach(t=>{o=o.filter(r=>{const n=r[t.field];return t.operator===">"?n>t.value:t.operator===">="?n>=t.value:t.operator==="<"?n<t.value:t.operator==="<="?n<=t.value:t.operator==="=="?n===t.value:t.operator==="!="?n!==t.value:t.operator==="contains"?`${n}`.includes(`${t.value}`):!1})}),o.slice(0,(e==null?void 0:e.limit)??ee)}async save(e){const o=[...await this.retrieveAll()],t={...e.visit,id:window.crypto.randomUUID(),hits:1,timestamp:Date.now()},r=o.findIndex(n=>n.pathname===t.pathname);return r>=0?(t.id=o[r].id,t.hits=o[r].hits+1,o[r]=t):o.push(t),o.sort((n,s)=>s.timestamp-n.timestamp),await this.persistAll(o.splice(0,this.limit)),t}async persistAll(e){const o=await this.getStorageKey();return this.storageApi.set(o,e)}async retrieveAll(){const e=await this.getStorageKey(),o=this.storageApi.snapshot(e);return(o==null?void 0:o.presence)!=="unknown"?(o==null?void 0:o.value)??[]:new Promise((t,r)=>{const n=this.storageApi.observe$(e).subscribe({next:s=>{const l=s.value??[];n.unsubscribe(),t(l)},error:s=>{n.unsubscribe(),r(s)}})})}async getStorageKey(){const{userEntityRef:e}=await this.identityApi.getBackstageIdentity();return`${this.storageKeyPrefix}:${e}`}compare(e,o,t){return typeof o[e.field]=="number"?o[e.field]-t[e.field]:`${o[e.field]}`.localeCompare(`${t[e.field]}`)}}const Ee=i=>["<","<=","==","!=",">",">=","contains"].includes(i),te=w({id:"homepage.visits"}),m=O({id:"home",apis:[P({api:te,deps:{storageApi:Q,identityApi:j},factory:({storageApi:i,identityApi:e})=>f.create({storageApi:i,identityApi:e})})],routes:{root:T}});m.provide(V({name:"HomepageCompositionRoot",component:()=>c(()=>import("./index-DHZqdb9-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117]),import.meta.url).then(i=>i.HomepageCompositionRoot),mountPoint:T}));m.provide(d({name:"ComponentAccordion",component:{lazy:()=>c(()=>import("./index-kJvI8fhs.js"),__vite__mapDeps([118,119,1,96,11,12,13,14,15,16,17,18,19,20,21,7,22,81,97,29,59,52,98,65,48,60,47,46,68,120,121,112,107,113,114,92,93,30,3,94,95,99,6,100,101,102,27,28,103,50,51,104,73,34,86,87,63,64,49,66,67,69,71,105,106,8,2,32,31,74,115,75,116,117,25,26,10,9,33,35,24,36,37,38,39,40,23,41,110,111,84,62,85]),import.meta.url).then(i=>i.ComponentAccordion)}}));m.provide(d({name:"ComponentTabs",component:{lazy:()=>c(()=>import("./index-kJvI8fhs.js"),__vite__mapDeps([118,119,1,96,11,12,13,14,15,16,17,18,19,20,21,7,22,81,97,29,59,52,98,65,48,60,47,46,68,120,121,112,107,113,114,92,93,30,3,94,95,99,6,100,101,102,27,28,103,50,51,104,73,34,86,87,63,64,49,66,67,69,71,105,106,8,2,32,31,74,115,75,116,117,25,26,10,9,33,35,24,36,37,38,39,40,23,41,110,111,84,62,85]),import.meta.url).then(i=>i.ComponentTabs)}}));m.provide(d({name:"ComponentTab",component:{lazy:()=>c(()=>import("./index-kJvI8fhs.js"),__vite__mapDeps([118,119,1,96,11,12,13,14,15,16,17,18,19,20,21,7,22,81,97,29,59,52,98,65,48,60,47,46,68,120,121,112,107,113,114,92,93,30,3,94,95,99,6,100,101,102,27,28,103,50,51,104,73,34,86,87,63,64,49,66,67,69,71,105,106,8,2,32,31,74,115,75,116,117,25,26,10,9,33,35,24,36,37,38,39,40,23,41,110,111,84,62,85]),import.meta.url).then(i=>i.ComponentTab)}}));m.provide(d({name:"WelcomeTitle",component:{lazy:()=>c(()=>import("./index-t1pbALRK.js"),__vite__mapDeps([122,1,33,34,86,14,7,13,15,16,21,22,17,60,87,63,64,65,48,68,3,26,10,27,28,29,30]),import.meta.url).then(i=>i.WelcomeTitle)}}));const fe=m.provide(d({name:"CompanyLogo",component:{lazy:()=>c(()=>import("./index-DZfplgxz.js"),__vite__mapDeps([123,1,68,14,13,15,16,3,31]),import.meta.url).then(i=>i.CompanyLogo)}})),he=m.provide(p({name:"HomePageRandomJoke",title:"Random Joke",components:()=>c(()=>import("./index-RYQa1W5g.js"),__vite__mapDeps([124,1,74,14,13,15,16,47,7,21,19,48,68,125,42,37,24,54,55,20,56,79,78,17,46,18,22,76]),import.meta.url),description:"Shows a random joke about optional category",layout:{height:{minRows:4},width:{minColumns:3}},settings:{schema:{title:"Random Joke settings",type:"object",properties:{defaultCategory:{title:"Category",type:"string",enum:["any","programming","dad"],default:"any"}}}}})),ye=m.provide(p({name:"HomePageToolkit",title:"Toolkit",components:()=>c(()=>import("./index-BAJma173.js"),__vite__mapDeps([126,1,81,14,66,13,15,16,67,70,71,68,106,107,8,7,2,3,11,12,17,18,19,20,21,22,32,31]),import.meta.url)})),Ae=m.provide(p({name:"HomePageStarredEntities",title:"Your Starred Entities",components:()=>c(()=>import("./index-B5rK149l.js"),__vite__mapDeps([127,1,33,34,106,107,8,7,2,3,11,12,13,14,15,16,17,18,19,20,21,22,81,32,31,68,128,25,26,10,27,28,29,30,9,35,24,36,37,38,6,39,40,23,41,4,69,67,47,48,70,71,129,50,51,86,60,87,63,64,65,111,130,46,131,132,133,66,120,59,121,134,135,136,94,95,96,97,52,98,99,100,101,102,103,104,73,93,49,75]),import.meta.url)}));m.provide(d({name:"HeaderWorldClock",component:{lazy:()=>c(()=>import("./index-BZpcf3s3.js"),__vite__mapDeps([137,1,138,81,14,49,13,15,16,68,106,107,8,7,2,3,11,12,17,18,19,20,21,22,32,31]),import.meta.url).then(i=>i.HeaderWorldClock)}}));m.provide(p({name:"HomePageTopVisited",title:"Top Visited",components:()=>c(()=>import("./TopVisited-BW2ox-Ek.js"),__vite__mapDeps([139,140,1,74,14,13,15,16,47,7,21,19,48,81,68,106,107,8,2,3,11,12,17,18,20,22,32,31,141,41,4,69,67,88,71,98,65,60,142,66,33,34,101,25,26,10,27,28,29,30,9,35,24,36,37,38,6,39,40,23,110,111,46,112,113,114,52,92,93,94,95,96,97,59,99,100,102,103,50,51,104,73,86,87,63,64,49,105,115,75,116,117,84,62,85]),import.meta.url)}));m.provide(p({name:"HomePageRecentlyVisited",title:"Recently Visited",components:()=>c(()=>import("./RecentlyVisited-Bkoz9wv8.js"),__vite__mapDeps([143,140,1,74,14,13,15,16,47,7,21,19,48,81,68,106,107,8,2,3,11,12,17,18,20,22,32,31,141,41,4,69,67,88,71,98,65,60,142,66,33,34,101,25,26,10,27,28,29,30,9,35,24,36,37,38,6,39,40,23,110,111,46,112,113,114,52,92,93,94,95,96,97,59,99,100,102,103,50,51,104,73,86,87,63,64,49,105,115,75,116,117,84,62,85]),import.meta.url)}));const Re=m.provide(p({name:"FeaturedDocsCard",title:"Featured Docs",components:()=>c(()=>import("./index-CH5CIjwO.js"),__vite__mapDeps([144,1,33,34,81,14,132,3,94,95,11,12,13,15,16,17,18,19,20,21,7,22,96,97,29,59,52,98,65,48,60,47,46,68,99,6,100,101,102,27,28,103,50,51,104,73,93,30,86,87,63,64,49,66,67,69,71,134,135,106,107,8,2,32,31,129,25,26,10,9,35,24,36,37,38,39,40,23,41,4,145,105,74]),import.meta.url)})),Ce=m.provide(p({name:"QuickStartCard",title:"Quick Start",components:()=>c(()=>import("./index-D9OGQkhX.js"),__vite__mapDeps([146,1,81,14,62,7,19,17,21,27,15,16,63,50,51,106,107,8,2,3,11,12,13,18,20,22,32,31,68,49]),import.meta.url)}));export{Re as F,he as H,Ce as Q,R as S,Ae as a,fe as b,ye as c,C as d,p as e,m as h,Ee as i,T as r,te as v};
