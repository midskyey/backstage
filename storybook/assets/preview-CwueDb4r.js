import{r as d,R as r}from"./index-CTjT7uj6.js";import{a as T,G as O,b as k,c as M,O as P,M as S,d as D,f as C,i as I,o as x,g as L,e as F,h as G,j as z,C as N,L as B,A as q,E as j,k as H}from"./MockTranslationApi-o7x4waXj.js";import{c as K}from"./ConfigApi-DBUUc3nU.js";import{e as $,t as U}from"./TranslationApi-eOxINumg.js";import{d as Y}from"./index-DrFu-skq.js";import{d as V}from"./Close-C3ERn7zq.js";import{u as W,c as J}from"./translation-B-PWjP3E.js";import{S as X}from"./Snackbar-B2D1COM3.js";import{A as Q}from"./Alert-Cf0-MllP.js";import{I as Z}from"./IconButton-BHbfALzB.js";import{T as ee}from"./Typography-cLPqD11X.js";import{u as te}from"./ApiRef-BSBwTmJJ.js";import{l as re,d as ae}from"./themes-CSgTKN25.js";import{T as ie}from"./ThemeProvider-f7E7OGWC.js";import{C as oe}from"./CssBaseline-CCCms-mx.js";import{T as ne}from"./TestApiProvider-CoiMLMhd.js";import{C as se}from"./Content-BESS4r0e.js";import"./index-CFaqwFgm.js";import"./defaultTheme-DXWIybXe.js";import"./classCallCheck-BNzALLS0.js";import"./inherits-CKtKJvtL.js";import"./toArray-pI9XEa5R.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-DGdSfGNr.js";import"./capitalize-DIeCfh_E.js";import"./withStyles-DXZDjQMO.js";import"./hoist-non-react-statics.cjs-DzIEFHQI.js";import"./createChainedFunction-Da-WpsAN.js";import"./createSvgIcon-BJFLD5ph.js";import"./debounce-DtXjJkxj.js";import"./isMuiElement-B_4ddUuK.js";import"./ownerWindow-C3iVrxHF.js";import"./useIsFocusVisible-DdvWPq7A.js";import"./index-BhgyLgKK.js";import"./useControlled-B47E2WMp.js";import"./unstable_useId-B3Hiq1YI.js";import"./Paper-qJ_yTBwO.js";import"./Grow-Bdg_sbq0.js";import"./useTheme-DSe7I3Kh.js";import"./utils-BIJQvdjm.js";import"./TransitionGroupContext-BtzQ-Cv7.js";import"./clsx.m-CH7BE6MN.js";import"./Close-D08CbUTF.js";import"./ButtonBase-Aex7BkI-.js";import"./palettes-C1DVN5xY.js";import"./ApiProvider-CuNQiN7Z.js";import"./index-BRV0Se7Z.js";import"./index-Cqve-NHl.js";import"./makeStyles-Dm18XSEu.js";function E(e){const[t,o]=d.useState([]),l=te(T),{t:c}=W(J),{anchorOrigin:u={vertical:"top",horizontal:"center"},transientTimeoutMs:h}=e,m=h??5e3;d.useEffect(()=>{const n=l.alert$().subscribe(i=>o(s=>s.concat(i)));return()=>{n.unsubscribe()}},[l]);const[a]=t;if(d.useEffect(()=>{if(a&&a.display==="transient"){const n=setTimeout(()=>{o(i=>{const s=i.filter(R=>R!==a);return s.length===i.length?i:s})},m);return()=>clearTimeout(n)}},[a,m]),t.length===0)return null;const f=()=>{o(n=>n.filter(i=>i!==a))};return r.createElement(X,{open:!0,anchorOrigin:u},r.createElement(Q,{action:r.createElement(Z,{color:"inherit",size:"small",onClick:f,"data-testid":"error-button-close"},r.createElement(V,null)),severity:a.severity},r.createElement(ee,{component:"span"},String(a.message),t.length>1&&r.createElement("em",null,c("alertDisplay.message",{count:t.length-1})))))}E.__docgenInfo={description:`Displays alerts from {@link @backstage/core-plugin-api#AlertApi}

@public
@remarks

Shown as SnackBar at the center top of the page by default. Configurable with props.

@param anchorOrigin - The \`vertical\` property will set the vertical orientation of where the AlertDisplay will be located
and the \`horizontal\` property will set the horizontal orientation of where the AlertDisplay will be located
@param transientTimeoutMs - Number of milliseconds a transient alert will stay open for. Default value is 5000

@example
Here's some examples:
\`\`\`
// This example shows the default usage, the SnackBar will show up at the top in the center and any transient messages will stay open for 5000ms
<AlertDisplay />

// With this example the SnackBar will show up in the bottom right hand corner and any transient messages will stay open for 2500ms
<AlertDisplay transientTimeoutMs={2500} anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}/>

// If you want to just set the time a transientTimeoutMs, you can do that like this:
<AlertDisplay transientTimeoutMs={10000} />
\`\`\``,methods:[],displayName:"AlertDisplay",props:{anchorOrigin:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  vertical: 'top' | 'bottom';
  horizontal: 'left' | 'center' | 'right';
}`,signature:{properties:[{key:"vertical",value:{name:"union",raw:"'top' | 'bottom'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"}],required:!0}},{key:"horizontal",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!0}}]}},description:""},transientTimeoutMs:{required:!1,tsType:{name:"number"},description:""}}};const le=new N({}),me=new B,b=new q,pe=new j(b,new H),ce={getUserId:()=>"guest",getProfile:()=>({email:"guest@example.com"}),getIdToken:()=>{},signOut:async()=>{}},p=new D,ue=O.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:p}),he=k.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:p}),fe=M.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:p}),ge=P.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:p}),de=S.create(),Ae=[[K,le],[C,me],[T,b],[$,pe],[I,ce],[x,p],[L,ue],[F,he],[G,fe],[z,ge],[U,de]],{useParameter:Te,addons:Ee,useEffect:Ot,useMemo:be,definePreview:kt}=__STORYBOOK_MODULE_PREVIEW_API__,{deprecate:ye}=__STORYBOOK_MODULE_CLIENT_LOGGER__;var ve=Object.defineProperty,y=(e,t)=>{for(var o in t)ve(e,o,{get:t[o],enumerable:!0})},we={};y(we,{initialGlobals:()=>Oe});var g="themes",_e=`storybook/${g}`,v="theme",A={},Re={REGISTER_THEMES:`${_e}/REGISTER_THEMES`},Oe={[v]:""},ke={};y(ke,{initializeThemeState:()=>_,pluckThemeFromContext:()=>w,useThemeParameters:()=>Me});function w({globals:e}){return e[v]||""}function Me(e){return ye(Y`The useThemeParameters function is deprecated. Please access parameters via the context directly instead e.g.
    - const { themeOverride } = context.parameters.themes ?? {};
    `),e?e.parameters[g]??A:Te(g,A)}function _(e,t){Ee.getChannel().emit(Re.REGISTER_THEMES,{defaultTheme:t,themes:e})}var Pe=([e,t])=>t,Se=({Provider:e,GlobalStyles:t,defaultTheme:o,themes:l={}})=>{let c=Object.keys(l),u=o||c[0];return _(c,u),(h,m)=>{let{themeOverride:a}=m.parameters[g]??{},f=w(m),n=be(()=>{let i=a||f||u,s=Object.entries(l);return s.length===1?Pe(s[0]):l[i]},[f,a]);return e?r.createElement(e,{theme:n},t&&r.createElement(t,null),h()):r.createElement(r.Fragment,null,t&&r.createElement(t,null),h())}};const Mt={parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},darkMode:{current:"light"},layout:"fullscreen"},decorators:[Se({themes:{Light:re,Dark:ae},defaultTheme:"Light",Provider:ie,GlobalStyles:oe}),e=>r.createElement(ne,{apis:Ae},r.createElement(E,null),r.createElement(se,null,r.createElement(e,null)))]},Pt={options:{storySort:{order:["Plugins","Layout","Navigation"]}}};export{Mt as default,Pt as parameters};
