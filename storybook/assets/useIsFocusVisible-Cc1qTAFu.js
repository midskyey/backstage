import{r as o}from"./index-CTjT7uj6.js";import{r as l}from"./index-QA7F3UF1.js";function a(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function w(e,t){return o.useMemo(function(){return e==null&&t==null?null:function(r){a(e,r),a(t,r)}},[e,t])}var n=!0,u=!1,s=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function f(e){var t=e.type,r=e.tagName;return!!(r==="INPUT"&&c[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function d(e){e.metaKey||e.altKey||e.ctrlKey||(n=!0)}function i(){n=!1}function m(){this.visibilityState==="hidden"&&u&&(n=!0)}function y(e){e.addEventListener("keydown",d,!0),e.addEventListener("mousedown",i,!0),e.addEventListener("pointerdown",i,!0),e.addEventListener("touchstart",i,!0),e.addEventListener("visibilitychange",m,!0)}function h(e){var t=e.target;try{return t.matches(":focus-visible")}catch{}return n||f(t)}function b(){u=!0,window.clearTimeout(s),s=window.setTimeout(function(){u=!1},100)}function E(){var e=o.useCallback(function(t){var r=l.findDOMNode(t);r!=null&&y(r.ownerDocument)},[]);return{isFocusVisible:h,onBlurVisible:b,ref:e}}export{E as a,a as s,w as u};
